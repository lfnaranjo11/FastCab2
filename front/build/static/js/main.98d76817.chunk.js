(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{28:function(e,a,t){e.exports=t.p+"static/media/logo.daf321ba.svg"},29:function(e,a,t){e.exports=t.p+"static/media/user.b171ffca.svg"},31:function(e,a,t){e.exports=t.p+"static/media/user.31aa4220.svg"},32:function(e,a,t){e.exports=t.p+"static/media/whatsapp.3a8a5d44.svg"},33:function(e,a,t){e.exports=t.p+"static/media/flecha.6d79aeff.svg"},34:function(e,a,t){e.exports=t.p+"static/media/flecha.6d79aeff.svg"},38:function(e,a,t){e.exports=t(79)},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},69:function(e,a,t){e.exports=t.p+"static/media/taxi.4ba539d0.svg"},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(16),c=t.n(r),l=(t(43),t(44),t(28)),i=t.n(l);var s=function(e){return o.a.createElement("div",{className:"centerPage container"},o.a.createElement("div",{role:"navigation"}),o.a.createElement("div",{role:"contentinfo"}),o.a.createElement("div",{role:"banner"},o.a.createElement("img",{className:"logo",src:i.a,alt:"logo"}),o.a.createElement("h1",null,"\xa1Bienvenido a FastCab!")),o.a.createElement("div",{role:"main",className:"row justify-content-center"},o.a.createElement("button",{className:"botonAmarilloChiquito margen",onClick:function(){e.history.push({pathname:"/iniciarsesion"})}},"Iniciar Sesion"),o.a.createElement("button",{className:"botonGrisChiquito margen",onClick:function(){e.history.push({pathname:"/crearcuenta"})}},"Crear Cuenta")))};t(45);var u=function(e){var a="",t="";return o.a.createElement("div",{className:"container"},o.a.createElement("div",{role:"navigation"}),o.a.createElement("div",{className:"titulo",role:"banner"},o.a.createElement("h1",null,"Iniciar Sesion")),o.a.createElement("div",{role:"main"},o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"label"},"Nombre su Usuario",o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Ingrese el nombre de usuario",onChange:function(e){return a=e.target.value}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"label"},"Contrase\xf1a",o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Ingrese su contrase\xf1a",onChange:function(e){return t=e.target.value}}))))),o.a.createElement("div",{className:"row justify-content-center",role:"contentinfo"},o.a.createElement("button",{className:"botonAmarilloChiquito margen",onClick:function(){return function(){var n={usuario:a,"contrase\xf1a":t};fetch("auth/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(a){a.json().then((function(a){console.log(a),a.msg?alert("Credenciales Invalidas"):e.history.push({pathname:"/viajes",conductor:a.usuario,token:a.token})}))})).catch((function(e){return console.log("Error:",e)}))}()}},"Iniciar Sesion"),o.a.createElement("button",{className:"botonGrisChiquito margen",onClick:function(){e.history.goBack()}},"Regresar")))};t(46);var m=function(e){var a="",t="",n="",r="",c="",l="";return o.a.createElement("div",{className:"container"},o.a.createElement("div",{role:"contentinfo"}),o.a.createElement("div",{role:"banner",className:"titulo2"},o.a.createElement("h1",null,"Crear Cuenta")),o.a.createElement("div",{role:"main"},o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"label"},"Nombre de Usuario",o.a.createElement("input",{className:"form-control",placeholder:"Ingrese un nombre de usuario",onChange:function(e){return a=e.target.value}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"label"},"Numero de Whatsapp",o.a.createElement("input",{className:"form-control",placeholder:"Ingrese su numero de Whatsapp",onChange:function(e){return t=e.target.value}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"label"},"Cedula",o.a.createElement("input",{className:"form-control",placeholder:"Ingrese su cedula",onChange:function(e){return n=e.target.value}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"label"},"Placa",o.a.createElement("input",{className:"form-control",placeholder:"Ingrese la placa de su vehiculo",onChange:function(e){return r=e.target.value}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"label"},"Modelo del Vehiculo",o.a.createElement("input",{className:"form-control",placeholder:"Ingrese el modelo de su vehiculo",onChange:function(e){return c=e.target.value}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"label"},"Contrase\xf1a",o.a.createElement("input",{type:"password",className:"form-control",placeholder:"Ingrese una contrase\xf1a",onChange:function(e){return l=e.target.value}}))))),o.a.createElement("div",{className:"row justify-content-center",role:"navigation"},o.a.createElement("button",{className:"botonAmarilloChiquito margen",onClick:function(){return function(){var o={usuario:a,numero:t,cedula:n,placa:r,modelo:c,foto:"","contrase\xf1a":l};fetch("auth/create",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(a){a.json().then((function(a){e.history.push({pathname:"/viajes",conductor:a.usuario,token:a.token})}))})).catch((function(e){return console.log("Error:",e)}))}()}},"Crear Cuenta"),o.a.createElement("button",{className:"botonGrisChiquito margen",onClick:function(){e.history.goBack()}},"Regresar")))},d=t(12),h=(t(47),t(29)),p=t.n(h);var f=function(e){var a=Object(n.useState)(!1),t=Object(d.a)(a,2),r=t[0],c=t[1],l=Object(n.useState)(""),i=Object(d.a)(l,2),s=i[0],u=(i[1],[{nombre:"Mis Viajes",accion:function(){e.history.push({pathname:"/misViajes",conductor:e.location.conductor,token:e.location.token})}}]);return o.a.createElement("div",{className:"fixed-top"},o.a.createElement("div",{className:"navBar shadow-lg",role:"banner"},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("button",{className:"hamburguer",onClick:function(){c(!r)}},"\u2630"),o.a.createElement("h1",{className:"fastCab"},"FastCab"),o.a.createElement("img",{onClick:function(){e.history.push({pathname:"/miperfil",conductor:e.location.conductor,token:e.location.token})},className:"iconoUser",src:p.a,alt:"user icon",tabIndex:"0"}))),o.a.createElement("nav",null,r&&o.a.createElement("ul",{className:"titulosVertical"},u.map((function(e){if(s!==e.nombre)return o.a.createElement("li",{className:"tituloHam",key:e.nombre,onClick:e.accion},e.nombre)})))))},v=t(4),E=t(5),b=t(7),g=t(6),N=t(8),j=t(14),y=t.n(j),k=(t(69),t(70),function(e){function a(e){return Object(v.a)(this,a),Object(b.a)(this,Object(g.a)(a).call(this,e))}return Object(N.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"marker",style:{backgroundColor:"#f7b334",cursor:"pointer"}})}}]),a}(o.a.Component));n.Component,t(71);var C=function(e){var a=Object(n.useState)([]),t=Object(d.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){var a=new WebSocket("wss://taxis-whatsapp.herokuapp.com");a.onopen=function(){console.log("open my ws"),a.onmessage=function(e){c(JSON.parse(e.data))}},fetch("data",{headers:{Authorization:"Bearer "+e.location.token}}).then((function(e){return e.json()})).then((function(e){e.err?console.log(JSON.stringify(e.err)):c(e)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{role:"navigation"},o.a.createElement(f,{history:e.history,location:e.location})),o.a.createElement("h1",{className:"tituloLista"},"Nuevas Solicitudes"),o.a.createElement("div",{className:"container",role:"main"},r.map((function(a){return o.a.createElement("div",{className:"card shadow viajeSolicitado",key:a._id},o.a.createElement("div",{className:"card-body"},o.a.createElement("h2",{className:"card-title"},a.direccion),o.a.createElement("button",{className:"botonAmarillo",onClick:function(){return function(a){console.log(a);var t=JSON.stringify({viaje:a,conductor:e.location.conductor});fetch("taxistas/accept",{method:"POST",body:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.location.token}}).then((function(e){})).catch((function(e){return console.log("Error:",e)})),a.estado="confirmado",e.history.push({pathname:"/servicio",viaje:a,conductor:e.location.conductor,token:e.location.token})}(a)}},"Aceptar")))}))))},O=t(30),S=function(e){function a(){return Object(v.a)(this,a),Object(b.a)(this,Object(g.a)(a).apply(this,arguments))}return Object(N.a)(a,e),Object(E.a)(a,[{key:"renderMarkers",value:function(e,a){var t=new a.Geocoder,n=this.props.lat,o=this.props.lon;t.geocode({address:this.props.direccion},(function(t,r){"OK"===r&&(n=t[0].geometry.location.lat(),o=t[0].geometry.location.lng()),new a.Marker({position:{lat:n,lng:o},map:e,title:"Hello World!"}),e.panTo({lat:n,lng:o})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{height:"50vh",width:"100%",alt:"google map of the user location"},alt:"lo que sea"},o.a.createElement(y.a,{bootstrapURLKeys:{key:"AIzaSyBQGovuMsVwP-HAiTWrNAVND5JfnikoPZ8"},defaultCenter:{lat:this.props.lat,lng:this.props.lon},defaultZoom:17,onGoogleApiLoaded:function(a){var t=a.map,n=a.maps;return e.renderMarkers(t,n)},yesIWantToUseGoogleMapApiInternals:!0}))}}]),a}(n.Component),w=(t(72),t(31)),A=t.n(w),P=t(32),x=t.n(P);function T(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function B(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?T(t,!0).forEach((function(a){Object(O.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var I=function(e){function a(e){var t;return Object(v.a)(this,a),(t=Object(b.a)(this,Object(g.a)(a).call(this,e))).handleRecoger=function(e){fetch("taxistas/recoger",{method:"POST",body:JSON.stringify({viaje:e,conductor:JSON.stringify({nombre:"Francisco Devia",cedula:"19431215",placa:"RGU-429",carro:"Chevrolet Spark"})}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.props.location.token}}).then((function(e){})).catch((function(e){return console.log("Error:",e)}));var a=B({},t.state.viaje);a.estado="en curso",t.setState({viaje:a})},t.handleLlegue=function(e){fetch("taxistas/llegue",{method:"POST",body:JSON.stringify({viaje:e,conductor:JSON.stringify({nombre:"Francisco Devia",cedula:"19431215",placa:"RGU-429",carro:"Chevrolet Spark"})}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.props.location.token}}).then((function(e){})).catch((function(e){return console.log("Error:",e)}));var a=B({},t.state.viaje);a.estado="esperando",t.setState({viaje:a})},t.handleTerminar=function(e){fetch("taxistas/terminar",{method:"POST",body:JSON.stringify({viaje:e,conductor:t.props.location.conductor}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.props.location.token}}).then((function(e){})).catch((function(e){return console.log("Error:",e)}));var a=B({},t.state.viaje);a.estado="terminado",t.setState({viaje:a}),t.props.history.push({pathname:"/viajes",conductor:t.props.location.conductor,token:t.props.location.token})},t.handleCancelar=function(e){fetch("taxistas/cancelar",{method:"POST",body:JSON.stringify({viaje:e,conductor:t.props.location.conductor}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.props.location.token}}).then((function(e){})).catch((function(e){return console.log("Error:",e)}));var a=B({},t.state.viaje);a.estado="cancelado",t.setState({viaje:a}),t.props.history.push({pathname:"/viajes",conductor:t.props.location.conductor,token:t.props.location.token})},t.state={viaje:e.location.viaje},t}return Object(N.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row",role:"banner"},o.a.createElement("img",{className:"fotoUsuario",src:A.a,alt:"user icon"}),o.a.createElement("h1",{className:"nombreUsuario"},this.state.viaje.numero.split(":")[1])),o.a.createElement("div",{role:"main"},o.a.createElement("h2",null,this.state.viaje.direccion),o.a.createElement(S,{lat:5.6984895,lon:-74.03693240000001,direccion:this.state.viaje.direccion}),o.a.createElement("a",{href:"https://wa.me/"+this.state.viaje.numero.split("whatsapp:+")[1]},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"circuloverde"},o.a.createElement("img",{className:"iconoWhatsapp",src:x.a,alt:"user icon"})),o.a.createElement("p",{className:"textoBoton"},"Enviar mensaje a Whatsapp"))),"confirmado"===this.state.viaje.estado&&o.a.createElement("button",{className:"botonAmarillo margenAbajo",onClick:function(){return e.handleLlegue(e.state.viaje)}},"Ya llegu\xe9"),"esperando"===this.state.viaje.estado&&o.a.createElement("button",{className:"botonAmarillo margenAbajo",onClick:function(){return e.handleRecoger(e.state.viaje)}},"Ya recog\xed al usuario"),"en curso"===this.state.viaje.estado&&o.a.createElement("button",{className:"botonAmarillo margenAbajo",onClick:function(){return e.handleTerminar(e.state.viaje)}},"Terminar Recorrido"),o.a.createElement("button",{className:"botonGris margenAbajo",onClick:function(){return e.handleCancelar(e.state.viaje)}},"Cancelar Viaje")))}}]),a}(n.Component),J=t(33),M=t.n(J),V=(t(73),function(e){function a(e){var t;return Object(v.a)(this,a),(t=Object(b.a)(this,Object(g.a)(a).call(this,e))).handleCerrarSesion=function(){t.props.history.push({pathname:"/"})},t.goBack=function(){t.props.history.push({pathname:"/viajes",conductor:t.props.location.conductor,token:t.props.location.token})},t.state={},t}return Object(N.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"navBar shadow-lg",role:"banner"},o.a.createElement("div",{className:"row"},o.a.createElement("img",{onClick:this.goBack,onKeyPress:this.goBack,className:"flechaAtras",src:M.a,alt:"back icon",tabIndex:"0"}),o.a.createElement("h1",{className:"tituloMiPerfil"},"Mi Perfil"))),o.a.createElement("div",{className:"container",role:"main"},o.a.createElement("div",{className:"titulo2"},o.a.createElement("h1",null,this.props.location.conductor.usuario),o.a.createElement("h2",null,"Conductor Registrado")),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("h3",null,"Numero de Whatsapp"),o.a.createElement("label",null,"3132803320")),o.a.createElement("div",null,o.a.createElement("h3",null,"Cedula"),o.a.createElement("label",null,this.props.location.conductor.cedula)),o.a.createElement("div",null,o.a.createElement("h3",null,"Modelo del Vehiculo"),o.a.createElement("label",null,this.props.location.conductor.modelo)),o.a.createElement("div",null,o.a.createElement("h3",null,"Placa"),o.a.createElement("label",null,this.props.location.conductor.placa)),o.a.createElement("button",{className:"botonAmarillo",onClick:this.handleCerrarSesion},"Cerrar Sesi\xf3n")))}}]),a}(n.Component)),W=t(34),G=t.n(W);t(74);function U(e){var a=Object(n.useState)([]),t=Object(d.a)(a,2),r=t[0],c=t[1];Object(n.useEffect)((function(){fetch("taxistas/misviajes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.location.token},body:JSON.stringify({conductor:"Mateo"})}).then((function(e){return e.json()})).then((function(e){e.err?console.log(JSON.stringify(e.err)):(console.log(e),c(e))}))}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"fixed-top"},o.a.createElement("div",{className:"navBar shadow-lg",role:"banner"},o.a.createElement("div",{className:"row"},o.a.createElement("img",{onClick:function(){e.history.push({pathname:"/viajes",conductor:e.location.conductor,token:e.location.token})},className:"flechaAtras",src:G.a,alt:"back icon",tabIndex:"0"}),o.a.createElement("h1",{className:"tituloMiPerfil"},"Mis Viajes")))),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"contenedorMisViajes",role:"main"},r.map((function(e){return o.a.createElement("div",{className:"card shadow miViaje",key:e._id},o.a.createElement("div",{className:"card-body"},o.a.createElement("h3",{className:"card-title"},e.ubicacion),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("p",{className:"titu"},"Fecha: "),o.a.createElement("p",null," ",e.fecha)),o.a.createElement("div",{className:"row"},o.a.createElement("p",{className:"titu"},"Usuario: "),o.a.createElement("p",null," ",e.usuario.split(":")[1]))),"terminado"===e.estado&&o.a.createElement("div",{className:"terminadoTag"},e.estado),"cancelado"===e.estado&&o.a.createElement("div",{className:"canceladoTag"},e.estado)))})))))}t(75);var R=t(35),z=t(10);var F=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(R.a,null,o.a.createElement(z.c,null,o.a.createElement(z.a,{exact:!0,path:"/",component:function(e){return o.a.createElement(s,{history:e.history,location:e.location})}}),o.a.createElement(z.a,{path:"/iniciarsesion",component:function(e){return o.a.createElement(u,{history:e.history,location:e.location})}}),o.a.createElement(z.a,{path:"/crearcuenta",component:function(e){return o.a.createElement(m,{history:e.history,location:e.location})}}),o.a.createElement(z.a,{path:"/viajes",component:function(e){return o.a.createElement(C,{history:e.history,location:e.location})}}),o.a.createElement(z.a,{path:"/servicio",component:function(e){return o.a.createElement(I,{history:e.history,location:e.location})}}),o.a.createElement(z.a,{path:"/miPerfil",component:function(e){return o.a.createElement(V,{history:e.history,location:e.location})}}),o.a.createElement(z.a,{path:"/misViajes",component:function(e){return o.a.createElement(U,{history:e.history,location:e.location})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.98d76817.chunk.js.map